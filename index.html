<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Website Lindaa - Sky Mode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
      transition: background 2s ease;
    }
    body.day { background: linear-gradient(180deg, #87cefa, #e6f7ff); color: #1a1a1a;}
    body.night { background: linear-gradient(180deg, #0a043c, #1b1464); color: #e0e0ff;}

    /* Toggle Mode Lingkaran di Kiri */
    .toggle-btn {
      position: absolute; 
      top: 20px; 
      left: 20px;       
      width: 50px;      
      height: 50px;     
      border-radius: 50%; 
      border: none; 
      background: rgba(255,255,255,0.8); 
      font-size: 24px;  
      cursor: pointer;
      display: flex; 
      align-items: center; 
      justify-content: center;
      backdrop-filter: blur(8px); 
      transition: transform 0.3s ease, background 0.3s ease;
      z-index: 99;
    }
    .toggle-btn:hover { 
      transform: scale(1.2); 
      background: rgba(255,255,255,0.95);
    }

    /* Sun & Moon */
    .sun, .moon { 
      position: absolute; border-radius: 50%; opacity:0; transition: all 2s ease; z-index:1;
    }
    .sun { width:100px;height:100px; background: radial-gradient(circle,#fff700,#ffcc00); box-shadow:0 0 60px rgba(255,230,0,0.8);}
    .moon { width:80px;height:80px; background: radial-gradient(circle,#fff,#ccc); box-shadow:0 0 40px rgba(255,255,255,0.7);}
    .sun.active { top:60px; right:80px; opacity:1; } .sun.inactive { top:-200px; right:80px; opacity:0; }
    .moon.active { top:60px; right:80px; opacity:1; } .moon.inactive { top:200px; right:80px; opacity:0; }

    /* Clouds */
    .cloud { position:absolute; border-radius:50%; filter:blur(1px); animation: moveClouds 80s linear infinite; transition: background 1.5s ease; }
    body.day .cloud { background:#fff; opacity:0.9; } body.night .cloud { background:#aaaaff; opacity:0.4; }
    .cloud:nth-child(1){width:160px;height:60px;top:20%;left:-200px;animation-duration:90s;}
    .cloud:nth-child(2){width:200px;height:70px;top:45%;left:-250px;animation-duration:110s;}
    .cloud:nth-child(3){width:140px;height:50px;top:70%;left:-180px;animation-duration:70s;}
    @keyframes moveClouds { from{transform:translateX(0);} to{transform:translateX(120vw);} }

    /* Stars */
    .star { position:absolute;width:2px;height:2px;background:white;border-radius:50%;opacity:0.8;animation: twinkle 2s infinite alternate; }
    @keyframes twinkle { from{opacity:0.3;transform:scale(0.8);} to{opacity:1;transform:scale(1.3);} }

    /* Shooting Stars */
    .shooting-star { position:absolute;width:2px;height:80px;background:linear-gradient(180deg,white,transparent);opacity:0.8;transform:rotate(45deg);animation:fall 1.5s linear forwards; z-index:2; }
    @keyframes fall {0%{opacity:0;transform:translate(0,0) rotate(45deg) scale(0.5);}10%{opacity:1;}100%{transform:translate(200px,200px) rotate(45deg) scale(1);opacity:0;}}

    /* Container */
    .container {
      width: 100%; max-width: 480px;
      background: rgba(255,255,255,0.9); padding:32px; border-radius:20px;
      backdrop-filter:blur(20px); box-shadow:0 10px 30px rgba(0,0,0,0.15); z-index:3;
    }
    body.night .container { background: rgba(20,20,40,0.85); color:#f0f0ff; }

    h2 { text-align:center;font-size:26px;margin-bottom:28px;font-weight:700; }
    body.day h2 { color:#0066cc; } body.night h2 { color:#fffacd; }

    label { display:block;margin:14px 0 6px;font-size:14px;font-weight:500; }

    input[type="text"], .file-label {
      width:100%; padding:14px; font-size:15px; border-radius:12px;
      border:1px solid #a8d8ff; background-color:#f9fcff; color:#000;
    }
    body.night input[type="text"], body.night .file-label { border:1px solid #555; background:#1a1a2e; color:#fff; }
    .file-input { display:none; }
    .file-label { display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer; }
    .file-name { margin-top:6px;font-size:13px;text-align:center;font-style:italic; }

    button.submit-btn {
      width:100%; margin-top:24px; padding:14px; font-size:16px; font-weight:600;
      border-radius:12px; border:none; cursor:pointer; color:#fff;
      background:linear-gradient(135deg,#0099ff,#66ccff);
    }
    body.night button.submit-btn { background:linear-gradient(135deg,#444,#888); }

    #result { margin-top:22px;text-align:center;font-size:14px;min-height:30px; }

    .footer { margin-top:28px;font-size:13px;padding:18px;border-radius:16px;border:1px solid #a8d8ff;background:#eaf6ff; }
    body.night .footer { background:#111a33;border:1px solid #333; }
    .created-by { text-align:center;margin-top:16px;font-size:12px; }
  </style>
</head>
<body>
  <button class="toggle-btn" id="toggleMode">üåû</button>
  <div id="sky">
    <div class="sun inactive" id="sun"></div>
    <div class="moon inactive" id="moon"></div>
    <div class="cloud"></div>
    <div class="cloud"></div>
    <div class="cloud"></div>
  </div>

  <div class="container">
    <h2>CREATE WEBSITE LINDAA</h2>
    <form id="deployForm">
      <label>Nama Website</label>
      <input type="text" id="siteName" placeholder="contoh: lindaa" required>

      <label>Upload File HTML</label>
      <label for="htmlFile" class="file-label">üóÇÔ∏è Pilih File HTML</label>
      <input type="file" id="htmlFile" class="file-input" accept=".html" required>
      <div class="file-name" id="fileName">Belum ada file dipilih</div>

      <button type="submit" class="submit-btn">üöÄ Buat Sekarang</button>
    </form>
    <div id="result"></div>
    <div class="footer">
      <h4>üìå SYARAT & KETENTUAN</h4>
      <ul>
        <li>File wajib bernama <strong>index.html</strong></li>
        <li>Tidak boleh ada konten ilegal/phishing</li>
        <li>Website publik & gratis</li>
      </ul>
      <div class="created-by">‚ú® Created by <strong>Lindaaa</strong></div>
    </div>
  </div>

  <script>
    // === SKY & UI EFFECTS ===
    const toggleBtn = document.getElementById("toggleMode");
    const sun = document.getElementById("sun");
    const moon = document.getElementById("moon");
    const fileInput = document.getElementById("htmlFile");
    const fileName = document.getElementById("fileName");
    const sky = document.getElementById("sky");

    function generateStars(count = 50) {
      document.querySelectorAll(".star").forEach(s => s.remove());
      for (let i = 0; i < count; i++) {
        const star = document.createElement("div");
        star.classList.add("star");
        star.style.top = Math.random() * 100 + "vh";
        star.style.left = Math.random() * 100 + "vw";
        star.style.animationDuration = (1 + Math.random() * 2) + "s";
        sky.appendChild(star);
      }
    }

    function shootingStars(count = 4) {
      for (let i = 0; i < count; i++) {
        const star = document.createElement("div");
        star.classList.add("shooting-star");
        star.style.top = (Math.random() * 40) + "vh";
        star.style.left = (Math.random() * 70) + "vw";
        star.style.animationDelay = (i * 0.2) + "s";
        sky.appendChild(star);
        setTimeout(() => star.remove(), 2000);
      }
    }

    function renderSky(mode) {
      document.body.className = mode;
      toggleBtn.textContent = mode === "day" ? "üåô" : "üåû";
      if (mode === "day") {
        sun.classList.add("active"); sun.classList.remove("inactive");
        moon.classList.add("inactive"); moon.classList.remove("active");
        document.querySelectorAll(".star").forEach(s => s.style.display = "none");
      } else {
        moon.classList.add("active"); moon.classList.remove("inactive");
        sun.classList.add("inactive"); sun.classList.remove("active");
        document.querySelectorAll(".star").forEach(s => s.style.display = "block");
        if (document.querySelectorAll(".star").length === 0) generateStars();
      }
    }

    let currentMode = (new Date().getHours() >= 7 && new Date().getHours() < 18) ? "day" : "night";
    renderSky(currentMode);

    toggleBtn.addEventListener("click", () => {
      currentMode = currentMode === "day" ? "night" : "day";
      renderSky(currentMode);
    });

    fileInput.addEventListener("change", () => {
      fileName.textContent = fileInput.files.length > 0 ? fileInput.files[0].name : "Belum ada file dipilih";
    });

    setInterval(() => {
      if (currentMode === "night") shootingStars(4);
    }, 5000 + Math.random() * 5000);

    // === NETLIFY & TELEGRAM DEPLOY ===
    const netlifyToken = "nfp_HqyRivNX2GGHXFdL7MkAEZVE55zDix6Qbdf0"; // isi token Netlify
    const telegramBotToken = "8494384498:AAFkj2dck3c-TOuqd5exXGxLH8l12MU6wT8"; // isi token bot Telegram
    const chatId = "7902576840"; // isi chat id kamu

    document.getElementById("deployForm").addEventListener("submit", async function(e){
      e.preventDefault();
      const siteName = document.getElementById("siteName").value.trim();
      const file = fileInput.files[0];
      const resultDiv = document.getElementById("result");

      if (!siteName || !file) {
        alert("Isi nama dan pilih file HTML!");
        return;
      }

      resultDiv.innerHTML = "üì§ Membuat site di Netlify...";

      try {
        // Buat site baru di Netlify
        const response = await fetch("https://api.netlify.com/api/v1/sites", {
          method: "POST",
          headers: { "Authorization": `Bearer ${netlifyToken}` }
        });

        const site = await response.json();
        if (!site.id) {
          resultDiv.innerHTML = "‚ùå Gagal membuat site di Netlify.";
          return;
        }

        // Deploy file HTML ke site
        const formData = new FormData();
        formData.append("index.html", file);

        const deployResponse = await fetch(`https://api.netlify.com/api/v1/sites/${site.id}/deploys`, {
          method: "POST",
          headers: { "Authorization": `Bearer ${netlifyToken}` },
          body: formData
        });

        const deployData = await deployResponse.json();

        if (deployData.ssl_url) {
          resultDiv.innerHTML = `‚úÖ Website berhasil dibuat:<br><a href="${deployData.ssl_url}" target="_blank">${deployData.ssl_url}</a>`;

          // Kirim laporan ke Telegram
          await fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              chat_id: chatId,
              text: `üåê Sayang Website Nya Udah Jadi Di Netlify\nüìõ Nama: ${siteName}\nüîó URL: ${deployData.ssl_url}`
            })
          });

        } else {
          resultDiv.innerHTML = "‚ö†Ô∏è Site dibuat tapi URL tidak tersedia.";
        }

      } catch(err) {
        console.error(err);
        resultDiv.innerHTML = "‚ùå Gagal konek ke Netlify.";
      }
    });
  </script>
</body>
</html>
